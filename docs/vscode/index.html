<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="VSCodeでTEIを編集する環境を整える # この記事は2024年8月時点の情報に基づいて作成しています。
前提 # XMLファイルの編集には専用のエディタ（編集ソフト）が便利 TEIの分野ではOxgenが代表的なソフトであるが、ライセンス費用が高価なため、初学者や学術機関に所属していない人には手を出しにくい テキストエディタの一つであるVSCodeは様々な拡張機能をインストールすることで機能追加ができる。XMLやTEI/XML編集用の拡張機能も開発・公開されている 手順 # VSCodeのインストール
下記サイトからOSに応じたインストーラをダウンロードし、実行する。 https://code.visualstudio.com/download 拡張機能のインストール
Japanese Language Pack for VS Code https://marketplace.visualstudio.com/items?itemName=MS-CEINTL.vscode-language-pack-ja UIを日本語表示にするための拡張機能 TEI Japanese Editor https://marketplace.visualstudio.com/items?itemName=ldas.vscode-japanese-tei TEI/XMLのマークアップに便利な機能（Webview、ruby・appの入力補助、カスタム表示）が追加できる Webview表示を縦書きにする設定 拡張機能を右クリック＞拡張機能の設定を開く ODDファイル：vs-code-japanese-teiを選択 Scholarly XML https://marketplace.visualstudio.com/items?itemName=raffazizzi.sxml XMLの構文（整形式）チェック スキーマに基づいた文書の妥当性チェック 現在の環境で使用できる要素のサジェストとツールチップ Ctrl+Eで選択部分をタグで囲む Auto Close Tag https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-close-tag Auto Rename Tag ★任意 https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag Close HTML/XML tag★任意 https://marketplace.visualstudio.com/items?itemName=Compulim.compulim-vscode-closetag 日本語スキーマファイルの作成と適用
TEIスキーマ TEI/XMLのタグのルールを記述した「スキーマ」ファイルを用意 スキーマファイルを読み込むことで使用できるタグの候補や解説を表示できる デフォルトだとタグの説明は英語だが、日本語用のスキーマファイルを作成すれば、タグの説明は日本語で表示される Romaの解説 スキーマファイルを編集・作成するためのウェブアプリケーション 手順 https://romabeta.tei-c.org/ にアクセス TEI_ALL（customize by reducing TEI）を選択し、STARTを押下 Language of elements and attributes　と　Documentation Language　を日本語にする 「RELAX NG schema」を選択し、ファイルをダウンロード。任意（ここではTEIファイルと同じ階層）の場所に置く ユーザスニペットの設定"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://dhlibrarianstudygroup.github.io/website/docs/vscode/"><meta property="og:site_name" content="DH librarian studygroup"><meta property="og:title" content="TEI/XML編集環境"><meta property="og:description" content="VSCodeでTEIを編集する環境を整える # この記事は2024年8月時点の情報に基づいて作成しています。
前提 # XMLファイルの編集には専用のエディタ（編集ソフト）が便利 TEIの分野ではOxgenが代表的なソフトであるが、ライセンス費用が高価なため、初学者や学術機関に所属していない人には手を出しにくい テキストエディタの一つであるVSCodeは様々な拡張機能をインストールすることで機能追加ができる。XMLやTEI/XML編集用の拡張機能も開発・公開されている 手順 # VSCodeのインストール
下記サイトからOSに応じたインストーラをダウンロードし、実行する。 https://code.visualstudio.com/download 拡張機能のインストール
Japanese Language Pack for VS Code https://marketplace.visualstudio.com/items?itemName=MS-CEINTL.vscode-language-pack-ja UIを日本語表示にするための拡張機能 TEI Japanese Editor https://marketplace.visualstudio.com/items?itemName=ldas.vscode-japanese-tei TEI/XMLのマークアップに便利な機能（Webview、ruby・appの入力補助、カスタム表示）が追加できる Webview表示を縦書きにする設定 拡張機能を右クリック＞拡張機能の設定を開く ODDファイル：vs-code-japanese-teiを選択 Scholarly XML https://marketplace.visualstudio.com/items?itemName=raffazizzi.sxml XMLの構文（整形式）チェック スキーマに基づいた文書の妥当性チェック 現在の環境で使用できる要素のサジェストとツールチップ Ctrl+Eで選択部分をタグで囲む Auto Close Tag https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-close-tag Auto Rename Tag ★任意 https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag Close HTML/XML tag★任意 https://marketplace.visualstudio.com/items?itemName=Compulim.compulim-vscode-closetag 日本語スキーマファイルの作成と適用
TEIスキーマ TEI/XMLのタグのルールを記述した「スキーマ」ファイルを用意 スキーマファイルを読み込むことで使用できるタグの候補や解説を表示できる デフォルトだとタグの説明は英語だが、日本語用のスキーマファイルを作成すれば、タグの説明は日本語で表示される Romaの解説 スキーマファイルを編集・作成するためのウェブアプリケーション 手順 https://romabeta.tei-c.org/ にアクセス TEI_ALL（customize by reducing TEI）を選択し、STARTを押下 Language of elements and attributes　と　Documentation Language　を日本語にする 「RELAX NG schema」を選択し、ファイルをダウンロード。任意（ここではTEIファイルと同じ階層）の場所に置く ユーザスニペットの設定"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>TEI/XML編集環境 | DH librarian studygroup</title>
<link rel=manifest href=/website/manifest.json><link rel=icon href=/website/favicon.png><link rel=canonical href=https://dhlibrarianstudygroup.github.io/website/docs/vscode/><link rel=stylesheet href=/website/book.min.309b7ed028807cdb68d8d61e26d609f48369c098dbf5e4d8c0dcf4cdf49feafc.css integrity="sha256-MJt+0CiAfNto2NYeJtYJ9INpwJjb9eTYwNz0zfSf6vw=" crossorigin=anonymous><script defer src=/website/fuse.min.js></script><script defer src=/website/en.search.min.a6c46afb745662bf3f18d4429c442db8a8a0e04f44e55c483b1e062b66ae5605.js integrity="sha256-psRq+3RWYr8/GNRCnEQtuKig4E9E5VxIOx4GK2auVgU=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/website/><span>DH librarian studygroup</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=/website/docs/about/>勉強会について</a></li><li><a href=/website/docs/blog/>活動報告</a><ul><li><a href=/website/docs/blog/20240721/>2024年7月21日</a></li></ul></li><li><a href=/website/docs/record/>開催記録</a></li><li><a href=/website/docs/tei_heike/>TEIマークアップ</a></li><li><a href=/website/docs/vscode/ class=active>TEI/XML編集環境</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/website/svg/menu.svg class=book-icon alt=Menu>
</label><strong>TEI/XML編集環境</strong>
<label for=toc-control><img src=/website/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#前提>前提</a></li><li><a href=#手順>手順</a></li><li><a href=#動作確認>動作確認</a></li><li><a href=#参考サイト>参考サイト</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=vscodeでteiを編集する環境を整える>VSCodeでTEIを編集する環境を整える
<a class=anchor href=#vscode%e3%81%a7tei%e3%82%92%e7%b7%a8%e9%9b%86%e3%81%99%e3%82%8b%e7%92%b0%e5%a2%83%e3%82%92%e6%95%b4%e3%81%88%e3%82%8b>#</a></h1><p><strong>この記事は2024年8月時点の情報に基づいて作成しています。</strong></p><h3 id=前提>前提
<a class=anchor href=#%e5%89%8d%e6%8f%90>#</a></h3><hr><ul><li>XMLファイルの編集には専用のエディタ（編集ソフト）が便利</li><li>TEIの分野ではOxgenが代表的なソフトであるが、ライセンス費用が高価なため、初学者や学術機関に所属していない人には手を出しにくい</li><li>テキストエディタの一つであるVSCodeは様々な拡張機能をインストールすることで機能追加ができる。XMLやTEI/XML編集用の拡張機能も開発・公開されている</li></ul><h3 id=手順>手順
<a class=anchor href=#%e6%89%8b%e9%a0%86>#</a></h3><hr><ol><li><p><strong>VSCodeのインストール</strong></p><ul><li>下記サイトからOSに応じたインストーラをダウンロードし、実行する。<ul><li><a href=https://code.visualstudio.com/download>https://code.visualstudio.com/download</a></li></ul></li></ul></li><li><p><strong>拡張機能のインストール</strong></p><ul><li>Japanese Language Pack for VS Code<ul><li><a href="https://marketplace.visualstudio.com/items?itemName=MS-CEINTL.vscode-language-pack-ja">https://marketplace.visualstudio.com/items?itemName=MS-CEINTL.vscode-language-pack-ja</a></li><li>UIを日本語表示にするための拡張機能</li></ul></li><li>TEI Japanese Editor<ul><li><a href="https://marketplace.visualstudio.com/items?itemName=ldas.vscode-japanese-tei">https://marketplace.visualstudio.com/items?itemName=ldas.vscode-japanese-tei</a></li><li>TEI/XMLのマークアップに便利な機能（Webview、ruby・appの入力補助、カスタム表示）が追加できる</li><li>Webview表示を縦書きにする設定<ul><li>拡張機能を右クリック＞拡張機能の設定を開く</li><li>ODDファイル：vs-code-japanese-teiを選択</li></ul></li></ul></li><li>Scholarly XML<ul><li><a href="https://marketplace.visualstudio.com/items?itemName=raffazizzi.sxml">https://marketplace.visualstudio.com/items?itemName=raffazizzi.sxml</a></li><li>XMLの構文（整形式）チェック</li><li>スキーマに基づいた文書の妥当性チェック</li><li>現在の環境で使用できる要素のサジェストとツールチップ</li><li>Ctrl+Eで選択部分をタグで囲む</li></ul></li><li>Auto Close Tag<ul><li><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-close-tag">https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-close-tag</a></li></ul></li><li>Auto Rename Tag ★任意<ul><li><a href="https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag">https://marketplace.visualstudio.com/items?itemName=formulahendry.auto-rename-tag</a></li></ul></li><li>Close HTML/XML tag★任意<ul><li><a href="https://marketplace.visualstudio.com/items?itemName=Compulim.compulim-vscode-closetag">https://marketplace.visualstudio.com/items?itemName=Compulim.compulim-vscode-closetag</a></li></ul></li></ul></li><li><p><strong>日本語スキーマファイルの作成と適用</strong></p><ul><li>TEIスキーマ<ul><li>TEI/XMLのタグのルールを記述した「スキーマ」ファイルを用意</li><li>スキーマファイルを読み込むことで使用できるタグの候補や解説を表示できる</li><li>デフォルトだとタグの説明は英語だが、日本語用のスキーマファイルを作成すれば、タグの説明は日本語で表示される</li></ul></li><li><a href=https://digitalnagasaki.hatenablog.com/entry/2017/08/26/095642>Romaの解説</a><ul><li>スキーマファイルを編集・作成するためのウェブアプリケーション</li></ul></li><li>手順<ul><li><a href=https://romabeta.tei-c.org/>https://romabeta.tei-c.org/</a> にアクセス</li><li>TEI_ALL（customize by reducing TEI）を選択し、STARTを押下</li><li>Language of elements and attributes　と　Documentation Language　を日本語にする</li><li>「RELAX NG schema」を選択し、ファイルをダウンロード。任意（ここではTEIファイルと同じ階層）の場所に置く</li></ul></li></ul></li><li><p><strong>ユーザスニペットの設定</strong></p></li></ol><ul><li>ファイル＞ユーザ設定＞ユーザー スニペットの構成＞「新しいスニペット」を選択し、任意のファイル名（ここでは「teiall.json」）で保存する。</li><li>デフォルトで記載されている記述を削除し、下記の文字列をコピペして上書き保存する。</li><li>2行目,”のhrefの値には3で作成したスキーマファイルのパス（絶対パス）を記載する。ここではtei_all.rngとこの後作成するxmlファイルが同じ階層にある想定とする。（同じ階層にないとスキーマファイルが認識されない。）</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>	{<span style=color:#f92672>&#34;TEI P5 All&#34;</span>: {
</span></span><span style=display:flex><span>		<span style=color:#f92672>&#34;prefix&#34;</span>: <span style=color:#e6db74>&#34;teiall&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#f92672>&#34;body&#34;</span>: [
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;&lt;?xml version=\&#34;1.0\&#34; encoding=\&#34;UTF-8\&#34;?&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;&lt;?xml-model href=\&#34;tei_all.rng\&#34; schematypens=\&#34;http://relaxng.org/ns/structure/1.0\&#34; type=\&#34;application/xml\&#34;?&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;&lt;TEI xmlns=\&#34;http://www.tei-c.org/ns/1.0\&#34;&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;  &lt;teiHeader&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;      &lt;fileDesc&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;         &lt;titleStmt&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;            &lt;title&gt;${1:Title}&lt;/title&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;         &lt;/titleStmt&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;         &lt;publicationStmt&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;            &lt;p&gt;${2:Publication Information}&lt;/p&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;         &lt;/publicationStmt&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;         &lt;sourceDesc&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;            &lt;p&gt;${3:Information about the source}&lt;/p&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;         &lt;/sourceDesc&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;      &lt;/fileDesc&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;  &lt;/teiHeader&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;  &lt;text&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;      &lt;body&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;         &lt;p&gt;${4:Some text here.}&lt;/p&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;      &lt;/body&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;  &lt;/text&gt;&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;&lt;/TEI&gt;&#34;</span>
</span></span><span style=display:flex><span>		],
</span></span><span style=display:flex><span>		<span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Oxygen-like TEI (P5) All Boilerplate&#34;</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span></code></pre></div><h3 id=動作確認>動作確認
<a class=anchor href=#%e5%8b%95%e4%bd%9c%e7%a2%ba%e8%aa%8d>#</a></h3><hr><ul><li>「ファイル」＞「新しいテキストファイル」でxmlファイルを作成→任意の名前を付けて保存する。</li><li>「teiall」と入力し、4で作成したユーザスニペットが呼び出せることを確認する。</li><li>「&lt;」と入力し、候補のTEIタグと日本語の説明文が表示されることを確認する。</li><li>TEIJapaneseEditorの機能<ul><li>コマンドが使えるか</li></ul><table><thead><tr><th>ショートカット</th><th>動作</th><th>キーボード</th></tr></thead><tbody><tr><td>Generate panel</td><td>プレビューを開く</td><td>ctrl+k v</td></tr><tr><td>Insert ruby</td><td>ルビを挿入する</td><td>ctrl+k r</td></tr><tr><td>Insert warichu</td><td>割注を挿入する</td><td>ctrl+k w</td></tr></tbody></table></li></ul><h3 id=参考サイト>参考サイト
<a class=anchor href=#%e5%8f%82%e8%80%83%e3%82%b5%e3%82%a4%e3%83%88>#</a></h3><hr><ul><li><a href=https://zenn.dev/nakamura196/articles/d2733cc49d1239>TEI/XMLファイルの編集を支援するVSCode拡張機能の使用例</a></li><li><a href=https://digitalnagasaki.hatenablog.com/entry/2020/02/14/031218>フリーソフトで快適TEI/XML（Oxygenを使わない道） - digitalnagasakiのブログ</a></li><li><a href=https://scrapbox.io/utdh/VSCode_%e3%81%a7_XML%ef%bc%88Scholarly_XML%f0%9f%9a%a7%e7%b7%a8%ef%bc%89>VSCode で XML（Scholarly XML🚧編） - UTDH / 東京大学人文情報学</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#前提>前提</a></li><li><a href=#手順>手順</a></li><li><a href=#動作確認>動作確認</a></li><li><a href=#参考サイト>参考サイト</a></li></ul></li></ul></nav></div></aside></main></body></html>